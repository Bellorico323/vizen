version: "3"

tasks:
  default:
    cmds:
      - task: dev

  docs:
    desc: Gera a documentaÃ§Ã£o do Swagger
    cmds:
      - swag init -d cmd/api,internal -g main.go --parseDependency --parseInternal
      - echo "Swagger gerado com sucesso! ðŸ“„"

  dev:
    desc: Roda a aplicaÃ§Ã£o com hot-reload via Air
    deps: [docs]
    cmds:
      - air --build.cmd "go build -o ./bin/api.exe ./cmd/api" --build.bin "./bin/api.exe"

  clean:
    cmds:
      - rm -rf bin
      - rm -rf tmp
