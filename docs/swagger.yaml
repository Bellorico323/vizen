basePath: /api/v1
definitions:
  api_controllers.AccessRequestResponse:
    properties:
      createdAt:
        type: string
      id:
        type: string
      status:
        type: string
      userEmail:
        type: string
      userName:
        type: string
    type: object
  api_controllers.AnnouncementResponse:
    properties:
      authorName:
        type: string
      content:
        type: string
      createdAt:
        type: string
      id:
        type: string
      title:
        type: string
    type: object
  api_controllers.ApproveAccessRequestReq:
    properties:
      accessRequestId:
        type: string
      isResponsible:
        type: boolean
    required:
    - accessRequestId
    type: object
  api_controllers.ApproveAccessRequestResponse:
    properties:
      message:
        type: string
    type: object
  api_controllers.CreateAccessRequestReq:
    properties:
      apartmentId:
        type: string
      type:
        enum:
        - owner
        - tenant
        - dependent
        type: string
      userId:
        type: string
    required:
    - apartmentId
    - type
    - userId
    type: object
  api_controllers.CreateAccessRequestResponse:
    properties:
      message:
        type: string
      requestId:
        type: string
    type: object
  api_controllers.CreateAnnouncementRequest:
    properties:
      condominiumId:
        type: string
      content:
        type: string
      title:
        type: string
    required:
    - condominiumId
    - content
    - title
    type: object
  api_controllers.CreateApartmentRequest:
    properties:
      block:
        type: string
      condominiumId:
        type: string
      number:
        minLength: 1
        type: string
    required:
    - condominiumId
    - number
    type: object
  api_controllers.CreateApartmentResponse:
    properties:
      apartmentId:
        type: string
      message:
        type: string
    type: object
  api_controllers.CreateBookingRequest:
    properties:
      apartmentId:
        type: string
      commonAreaId:
        type: string
      condominiumId:
        type: string
      endsAt:
        type: string
      startsAt:
        type: string
    required:
    - apartmentId
    - commonAreaId
    - condominiumId
    - endsAt
    - startsAt
    type: object
  api_controllers.CreateBookingResponse:
    properties:
      booking:
        $ref: '#/definitions/github_com_Bellorico323_vizen_internal_store_pgstore.Booking'
      message:
        type: string
    type: object
  api_controllers.CreateCommonAreaRequest:
    properties:
      capacity:
        minimum: 1
        type: integer
      condominiumId:
        type: string
      name:
        minLength: 3
        type: string
      requiredApproval:
        type: boolean
    required:
    - condominiumId
    - name
    type: object
  api_controllers.CreateCommonAreaResponse:
    properties:
      commonArea:
        $ref: '#/definitions/github_com_Bellorico323_vizen_internal_store_pgstore.CommonArea'
      message:
        type: string
    type: object
  api_controllers.CreateCondominiumRequest:
    properties:
      address:
        type: string
      cnpj:
        type: string
      name:
        type: string
      planType:
        enum:
        - basic
        - pro
        - enterprise
        type: string
    required:
    - address
    - cnpj
    - name
    - planType
    type: object
  api_controllers.CreateCondominiumResponse:
    properties:
      condominiumId:
        type: string
      message:
        type: string
    type: object
  api_controllers.CreateInviteRequest:
    properties:
      apartmentId:
        type: string
      condominiumId:
        type: string
      endsAt:
        type: string
      guestName:
        minLength: 1
        type: string
      guestType:
        enum:
        - guest
        - service
        - delivery
        type: string
      startsAt:
        type: string
    required:
    - apartmentId
    - condominiumId
    - endsAt
    - guestName
    - startsAt
    type: object
  api_controllers.CreateInviteResponse:
    properties:
      invite:
        $ref: '#/definitions/github_com_Bellorico323_vizen_internal_store_pgstore.Invite'
      message:
        type: string
    type: object
  api_controllers.CreatePackageRequest:
    properties:
      apartmentId:
        type: string
      condominiumId:
        type: string
      photoUrl:
        type: string
      recipientName:
        type: string
    required:
    - apartmentId
    - condominiumId
    type: object
  api_controllers.CreatePackageResponse:
    properties:
      message:
        type: string
      packageId:
        type: string
    type: object
  api_controllers.EditBookingRequest:
    properties:
      status:
        enum:
        - confirmed
        - denied
        type: string
    required:
    - status
    type: object
  api_controllers.GetPackageResponse:
    properties:
      apartmentId:
        type: string
      apartmentNumber:
        type: string
      block:
        type: string
      condominiumId:
        type: string
      id:
        type: string
      photoUrl:
        type: string
      receivedAt:
        type: string
      receivedBy:
        type: string
      receivedByName:
        type: string
      recipientName:
        type: string
      status:
        type: string
      withdrawnAt:
        type: string
      withdrawnBy:
        type: string
    type: object
  api_controllers.ListCommonAreasResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/github_com_Bellorico323_vizen_internal_store_pgstore.CommonArea'
        type: array
    type: object
  api_controllers.ListInvitesResponse:
    properties:
      data:
        items:
          properties:
            apartmentNumber:
              type: string
            block:
              type: string
            endsAt:
              type: string
            guestName:
              type: string
            guestType:
              type: string
            id:
              type: string
            revokedAt:
              type: string
            startsAt:
              type: string
            token:
              type: string
          type: object
        type: array
    type: object
  api_controllers.MembershipResponse:
    properties:
      condominiumId:
        type: string
      condominiumName:
        type: string
      role:
        description: admin, syndic
        type: string
    type: object
  api_controllers.RefreshTokenRequest:
    properties:
      refreshToken:
        type: string
    type: object
  api_controllers.RefreshTokenResponse:
    properties:
      accessToken:
        type: string
      refreshToken:
        type: string
    type: object
  api_controllers.RegisterDeviceReq:
    properties:
      fcmToken:
        type: string
      platform:
        enum:
        - android
        - ios
        - web
        type: string
    required:
    - fcmToken
    type: object
  api_controllers.RejectAccessRequestReq:
    properties:
      accessRequestId:
        type: string
    required:
    - accessRequestId
    type: object
  api_controllers.RejectAccessRequestResponse:
    properties:
      message:
        type: string
    type: object
  api_controllers.ResidenceResponse:
    properties:
      block:
        type: string
      condominiumId:
        type: string
      condominiumName:
        type: string
      isResponsible:
        description: Pode abrir chamados?
        type: boolean
      number:
        type: string
      type:
        description: owner, tenant
        type: string
    type: object
  api_controllers.SigninResponse:
    properties:
      accessToken:
        type: string
      message:
        type: string
      refreshToken:
        type: string
    type: object
  api_controllers.SigninWithCredentialsRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - password
    type: object
  api_controllers.SignupRequest:
    properties:
      avatar_url:
        type: string
      email:
        type: string
      name:
        maxLength: 100
        minLength: 3
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - name
    - password
    type: object
  api_controllers.SignupResponse:
    properties:
      message:
        type: string
      userId:
        type: string
    type: object
  api_controllers.UserApartmentResponse:
    properties:
      apartmentId:
        type: string
      block:
        type: string
      condominiumId:
        type: string
      condominiumName:
        type: string
      isResponsible:
        type: boolean
      number:
        type: string
      type:
        type: string
    type: object
  api_controllers.UserProfileResponse:
    properties:
      avatarUrl:
        type: string
      email:
        type: string
      id:
        type: string
      memberships:
        items:
          $ref: '#/definitions/api_controllers.MembershipResponse'
        type: array
      name:
        type: string
      residences:
        items:
          $ref: '#/definitions/api_controllers.ResidenceResponse'
        type: array
    type: object
  api_controllers.ValidateInviteRequest:
    properties:
      condominiumId:
        type: string
      token:
        type: string
    required:
    - condominiumId
    - token
    type: object
  api_controllers.ValidateInviteResponse:
    properties:
      invite:
        $ref: '#/definitions/github_com_Bellorico323_vizen_internal_store_pgstore.GetInviteByTokenRow'
      message:
        type: string
    type: object
  api_controllers.WithdrawPackageRequest:
    properties:
      condominiumId:
        type: string
    type: object
  github_com_Bellorico323_vizen_internal_api_common.ErrResponse:
    properties:
      message:
        type: string
    type: object
  github_com_Bellorico323_vizen_internal_api_common.SuccessResponse:
    properties:
      message:
        type: string
    type: object
  github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse:
    properties:
      errors:
        items:
          $ref: '#/definitions/validator.ErrorResponse'
        type: array
      message:
        type: string
    type: object
  github_com_Bellorico323_vizen_internal_store_pgstore.Booking:
    properties:
      apartment_id:
        type: string
      common_area_id:
        type: string
      condominium_id:
        type: string
      created_at:
        type: string
      deleted_at:
        type: string
      ends_at:
        type: string
      id:
        type: string
      starts_at:
        type: string
      status:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  github_com_Bellorico323_vizen_internal_store_pgstore.CommonArea:
    properties:
      capacity:
        type: integer
      condominium_id:
        type: string
      id:
        type: string
      name:
        type: string
      requires_approval:
        type: boolean
    type: object
  github_com_Bellorico323_vizen_internal_store_pgstore.GetInviteByTokenRow:
    properties:
      apartment_id:
        type: string
      apartment_number:
        type: string
      block:
        type: string
      condominium_id:
        type: string
      created_at:
        type: string
      ends_at:
        type: string
      guest_name:
        type: string
      guest_type:
        type: string
      id:
        type: string
      issued_by:
        type: string
      resident_name:
        type: string
      revoked_at:
        type: string
      starts_at:
        type: string
      token:
        type: string
    type: object
  github_com_Bellorico323_vizen_internal_store_pgstore.Invite:
    properties:
      apartment_id:
        type: string
      condominium_id:
        type: string
      created_at:
        type: string
      ends_at:
        type: string
      guest_name:
        type: string
      guest_type:
        type: string
      id:
        type: string
      issued_by:
        type: string
      revoked_at:
        type: string
      starts_at:
        type: string
      token:
        type: string
    type: object
  usecases.PackageListItem:
    properties:
      apartmentNumber:
        type: string
      block:
        type: string
      id:
        type: string
      photoUrl:
        type: string
      receivedAt:
        type: string
      receivedByName:
        type: string
      recipientName:
        type: string
      status:
        type: string
    type: object
  usecases.UserCondominiumDTO:
    properties:
      address:
        type: string
      cnpj:
        type: string
      id:
        type: string
      name:
        type: string
      role:
        type: string
    type: object
  validator.ErrorResponse:
    properties:
      field:
        type: string
      message:
        type: string
    type: object
host: localhost:3000
info:
  contact:
    email: support@vizen.app
    name: Suporte Vizen
  description: Backend server for Vizen Application.
  termsOfService: http://swagger.io/terms/
  title: Vizen API
  version: "1.0"
paths:
  /access-requests:
    post:
      consumes:
      - application/json
      description: Submits a request for a user to join an apartment (as owner, tenant,
        or dependent).
      parameters:
      - description: Access Request payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateAccessRequestReq'
      produces:
      - application/json
      responses:
        "201":
          description: Request created successfully
          schema:
            $ref: '#/definitions/api_controllers.CreateAccessRequestResponse'
        "400":
          description: Invalid JSON or Resident Type
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: User or Apartment not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Create Access Request
      tags:
      - Access Requests
  /access-requests/approve:
    post:
      consumes:
      - application/json
      description: Approves a pending request, turning the user into an official resident.
      parameters:
      - description: Approval payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.ApproveAccessRequestReq'
      produces:
      - application/json
      responses:
        "200":
          description: Request approved successfully
          schema:
            $ref: '#/definitions/api_controllers.ApproveAccessRequestResponse'
        "400":
          description: Invalid JSON or Request not pending
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: User does not have permission
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Access request not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: User is already a resident
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Approve Access Request
      tags:
      - Access Requests
  /access-requests/pending:
    get:
      description: Returns all pending requests for a condominium. Only for Admins/Syndics.
      parameters:
      - description: Condominium UUID
        in: query
        name: condominiumId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/api_controllers.AccessRequestResponse'
            type: array
        "400":
          description: Invalid UUID
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List Pending Access Requests
      tags:
      - Access Requests
  /access-requests/reject:
    post:
      consumes:
      - application/json
      description: Rejects a pending request, denying the user access to the condominium.
      parameters:
      - description: Rejection payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.RejectAccessRequestReq'
      produces:
      - application/json
      responses:
        "200":
          description: Request rejected successfully
          schema:
            $ref: '#/definitions/api_controllers.RejectAccessRequestResponse'
        "400":
          description: Invalid JSON or Request not pending
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: User does not have permission
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Access request not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Reject Access Request
      tags:
      - Access Requests
  /announcements:
    get:
      description: Get a paginated list of announcements for a specific condominium.
      parameters:
      - description: Condominium UUID
        in: query
        name: condominiumId
        required: true
        type: string
      - description: Page number (default 1)
        in: query
        name: page
        type: integer
      - description: Items per page (default 10)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/api_controllers.AnnouncementResponse'
            type: array
        "400":
          description: Invalid UUID or parameters
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: User does not have permission
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List Announcements
      tags:
      - Announcements
    post:
      consumes:
      - application/json
      description: Creates a new announcement for a condominium and sends push notifications
        to all residents.
      parameters:
      - description: Announcement payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateAnnouncementRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Announcement created successfully
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.SuccessResponse'
        "400":
          description: Invalid JSON or Empty fields
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: User does not have permission (Must be Admin/Syndic)
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Create Announcement
      tags:
      - Announcements
  /announcements/{id}:
    delete:
      description: Removes an announcement. Requires Admin or Syndic role.
      parameters:
      - description: Announcement UUID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Invalid ID
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Announcement not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Delete Announcement
      tags:
      - Announcements
  /apartments:
    post:
      consumes:
      - application/json
      description: Creates a new apartment. The user must be an **admin** or **syndic**
        of the condominium.
      parameters:
      - description: Apartment creation payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateApartmentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Apartment successfully created
          schema:
            $ref: '#/definitions/api_controllers.CreateApartmentResponse'
        "400":
          description: Invalid JSON payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: User does not have permission
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Condominium not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Apartment already exists in this block
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Create Apartment
      tags:
      - Apartments
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Generates a new access token using a valid refresh token from Cookie
        (Web) or Body (Mobile)
      parameters:
      - description: Refresh Token (Optional if using Cookies)
        in: body
        name: request
        schema:
          $ref: '#/definitions/api_controllers.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Token refreshed successfully
          schema:
            $ref: '#/definitions/api_controllers.RefreshTokenResponse'
        "400":
          description: Token not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: Invalid or expired session
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      summary: Refresh Access Token
      tags:
      - Auth
  /bookings:
    post:
      consumes:
      - application/json
      description: Create a reservation for a common area (e.g. Party Hall). Prevents
        double booking via locking.
      parameters:
      - description: Booking Data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateBookingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api_controllers.CreateBookingResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Time slot conflict
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Book Common Area
      tags:
      - Bookings
  /bookings/{id}/status:
    patch:
      consumes:
      - application/json
      description: Allows an Admin or Syndic to approve/deny a pending booking.
      parameters:
      - description: Booking UUID
        in: path
        name: id
        required: true
        type: string
      - description: New Status (confirmed/denied)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.EditBookingRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Invalid Payload or ID
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission Denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Booking Not Found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Conflict (Booking not pending)
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Approve or Reject Booking
      tags:
      - Bookings
  /common-areas:
    post:
      consumes:
      - application/json
      description: Creates a new bookable area (e.g., Gym, BBQ). Only Admin/Syndic
        can perform this action.
      parameters:
      - description: Common Area Data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateCommonAreaRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api_controllers.CreateCommonAreaResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Conflict (Name already exists)
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Create Common Area
      tags:
      - Common Areas
  /common_areas:
    get:
      consumes:
      - application/json
      description: Lists all common areas available in the condominium. Open to all
        members.
      parameters:
      - description: Condominium UUID
        in: query
        name: condominiumId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_controllers.ListCommonAreasResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List Common Areas
      tags:
      - Common Areas
  /condominiums:
    post:
      consumes:
      - application/json
      description: Creates a new condominium and assigns the current user as admin.
      parameters:
      - description: Condominium creation payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateCondominiumRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Condominium successfully created
          schema:
            $ref: '#/definitions/api_controllers.CreateCondominiumResponse'
        "400":
          description: Invalid JSON payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: User does not have permission
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: CNPJ already registered
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Create Condominium
      tags:
      - Condominiums
  /invites:
    get:
      consumes:
      - application/json
      description: Get a list of invites. Residents see only their apartment's invites.
        Staff can see all.
      parameters:
      - description: Condominium UUID
        in: query
        name: condominiumId
        required: true
        type: string
      - description: Apartment UUID (Required for residents)
        in: query
        name: apartmentId
        type: string
      - description: If true, returns only future/active invites
        in: query
        name: onlyActive
        type: boolean
      - description: Page number (default 1)
        in: query
        name: page
        type: integer
      - description: Items per page (default 20)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_controllers.ListInvitesResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List Invites
      tags:
      - Invites
    post:
      consumes:
      - application/json
      description: Generates a new access invite (QR Code Token). Only residents of
        the specified apartment can create invites. Dates must be in ISO8601 format.
      parameters:
      - description: Invite Creation Data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreateInviteRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api_controllers.CreateInviteResponse'
        "400":
          description: Invalid Payload or Logic Error (e.g., End date before Start
            date)
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied (User does not reside in this apartment)
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Conflict (Condominium or Apartment not found)
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation Failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Create Guest Invite
      tags:
      - Invites
  /invites/{id}/revoke:
    patch:
      consumes:
      - application/json
      description: Cancels an existing invite. Only the user who created the invite
        can revoke it.
      parameters:
      - description: Invite UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Invite not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Revoke Invite
      tags:
      - Invites
  /invites/validate:
    post:
      consumes:
      - application/json
      description: Validates a visitor's QR code token. Checks if the token exists,
        belongs to the condominium, is within the valid time window, and has not been
        revoked. Records the entry in access logs upon success.
      parameters:
      - description: Token Validation Data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.ValidateInviteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_controllers.ValidateInviteResponse'
        "400":
          description: Invalid Payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Business Rule Violation (Expired, Revoked, Not Started) or
            Permission Denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Invite/Token not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation Failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Validate Access Token (QR Code)
      tags:
      - Invites
  /packages:
    get:
      consumes:
      - application/json
      description: Retrieve a list of packages. Admins can view all packages for a
        condominium. Residents must filter by their apartment ID to view their packages.
      parameters:
      - description: Condominium UUID
        in: query
        name: condominiumId
        required: true
        type: string
      - description: Apartment UUID (Mandatory for Residents)
        in: query
        name: apartmentId
        type: string
      - description: Filter by status (pending, withdrawn)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/usecases.PackageListItem'
            type: array
        "400":
          description: Invalid parameters
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List Packages
      tags:
      - Packages
    post:
      consumes:
      - application/json
      description: Registers a new package arrival at the concierge. Triggers a push
        notification to the apartment residents.
      parameters:
      - description: Package Creation Data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.CreatePackageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api_controllers.CreatePackageResponse'
        "400":
          description: Invalid JSON payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Condominium or Apartment not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Register new package
      tags:
      - Packages
  /packages/{id}:
    get:
      consumes:
      - application/json
      description: Get detailed information about a package. Admins/Syndics can view
        any package; Residents can only view packages for their apartments.
      parameters:
      - description: Package UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api_controllers.GetPackageResponse'
        "400":
          description: Invalid ID format
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Package not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Get Package Details
      tags:
      - Packages
  /packages/{id}/withdraw:
    patch:
      consumes:
      - application/json
      description: Marks a package as delivered/withdrawn. Can be performed by Condo
        Staff (for any package) or the Package Owner (Resident).
      parameters:
      - description: Package UUID
        in: path
        name: id
        required: true
        type: string
      - description: Condominium ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.WithdrawPackageRequest'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Invalid ID or Payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "403":
          description: Permission denied
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: Package not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Package already withdrawn
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Withdraw Package
      tags:
      - Packages
  /users:
    post:
      consumes:
      - application/json
      description: Creates an user and account with credentials
      parameters:
      - description: Signup Credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.SignupRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created user successfully
          schema:
            $ref: '#/definitions/api_controllers.SignupResponse'
        "400":
          description: Invalid JSON payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "409":
          description: Email already exists
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      summary: Create User
      tags:
      - Auth
  /users/apartments:
    get:
      description: Get all apartments belonging to the authenticated user. Optionally
        filter by condominium.
      parameters:
      - description: Condominium UUID (Optional)
        in: query
        name: condominiumId
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/api_controllers.UserApartmentResponse'
            type: array
        "400":
          description: Invalid UUID format
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List User Apartments
      tags:
      - Users
  /users/condominiums:
    get:
      description: Returns all condominiums the user is part of, sorted by role (Syndic
        > Admin > Resident).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/usecases.UserCondominiumDTO'
            type: array
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: List User Condominiums
      tags:
      - Users
  /users/devices:
    post:
      consumes:
      - application/json
      parameters:
      - description: Register device payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.RegisterDeviceReq'
      produces:
      - application/json
      responses:
        "200":
          description: Device registred successfully
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.SuccessResponse'
        "400":
          description: Invalid JSON or Request not pending
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: User not authenticated
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
      security:
      - BearerAuth: []
      summary: Register Device token
      tags:
      - Notifications
  /users/me:
    get:
      description: Retrieves detailed information about the currently logged-in user.
        Requires a valid Bearer Token.
      produces:
      - application/json
      responses:
        "200":
          description: User profile details
          schema:
            $ref: '#/definitions/api_controllers.UserProfileResponse'
        "401":
          description: Unauthorized / Invalid Token
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      security:
      - BearerAuth: []
      summary: Get Current User Profile
      tags:
      - Users
  /users/signin:
    post:
      consumes:
      - application/json
      description: Authenticates the user and returns the Access Token. Refresh Token
        is returned in the Body (Mobile) or HttpOnly Cookie (Web).
      parameters:
      - description: Login Credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_controllers.SigninWithCredentialsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/api_controllers.SigninResponse'
        "400":
          description: Invalid JSON payload
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
        "422":
          description: Validation failed
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ValidationErrResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/github_com_Bellorico323_vizen_internal_api_common.ErrResponse'
      summary: User Login
      tags:
      - Auth
schemes:
- http
- https
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
